<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Takshashila Network for Advanced Studies Conference 2026 – Vote for Sessions</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="header-inner">
      <div class="logo-area">
        <img src="https://images.squarespace-cdn.com/content/v1/609cad5f2b20cf45454e749c/3b77a58a-e34f-4a42-853a-623fb58424c4/%5BLOGO%5D%2BTakshashila%2BLogo%2BColour%2BHorizontal.png"
             alt="Takshashila Institution" class="logo"
             onerror="this.style.display='none'; document.getElementById('logo-text').style.display='block'" />
        <span id="logo-text" class="logo-text-fallback" style="display:none">The Takshashila Institution</span>
      </div>
      <div class="header-title">
        <h1 class="event-title">Unconference Sessions</h1>
        <p class="event-subtitle">Vote for sessions you're interested in</p>
      </div>
      <div class="header-conference-name">
        Takshashila Network for Advanced Studies Conference 2026
      </div>
    </div>
  </header>

  <!-- MODALS ─────────────────────────────────────────── -->

  <!-- Upvote modal (name + email) -->
  <div id="modal-overlay" class="modal-overlay hidden">
    <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <button class="modal-close" id="modal-close-btn" aria-label="Close">&times;</button>
      <div class="modal-header">
        <span class="modal-icon">&#9650;</span>
        <h2 id="modal-title">Upvote this Topic</h2>
        <p id="modal-session-name" class="modal-session-name"></p>
      </div>
      <form id="interest-form" novalidate>
        <div class="form-group">
          <label for="voter-name">Your Name <span class="required">*</span></label>
          <input type="text" id="voter-name" placeholder="e.g. Priya Sharma" autocomplete="name" required />
          <span class="field-error" id="name-error"></span>
        </div>
        <div class="form-group">
          <label for="voter-email">Your Email <span class="required">*</span></label>
          <input type="email" id="voter-email" placeholder="e.g. priya@example.com" autocomplete="email" required />
          <span class="field-error" id="email-error"></span>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn-primary" id="submit-vote-btn">
            <span class="btn-icon">&#9650;</span> Upvote
          </button>
          <button type="button" class="btn-secondary" id="modal-cancel-btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Add / Propose topic modal -->
  <div id="add-topic-overlay" class="modal-overlay hidden">
    <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="add-topic-title">
      <button class="modal-close" id="add-topic-close-btn" aria-label="Close">&times;</button>
      <div class="modal-header">
        <span class="modal-icon">&#128161;</span>
        <h2 id="add-topic-title">Propose a Topic</h2>
        <p class="modal-session-name">Your topic will appear on the board for others to upvote. You can still upvote other topics too!</p>
      </div>
      <form id="add-topic-form" novalidate>
        <div class="form-group">
          <label for="new-topic-title">Your Topic <span class="required">*</span></label>
          <input type="text" id="new-topic-title" placeholder="e.g. Should India join the Arctic Council?" maxlength="160" required />
          <span class="field-error" id="topic-title-error"></span>
        </div>
        <div class="form-group">
          <label for="new-topic-name">Your Name <span class="required">*</span></label>
          <input type="text" id="new-topic-name" placeholder="e.g. Priya Sharma" autocomplete="name" required />
          <span class="field-error" id="topic-name-error"></span>
        </div>
        <div class="form-group">
          <label for="new-topic-email">Your Email <span class="required">*</span></label>
          <input type="email" id="new-topic-email" placeholder="e.g. priya@example.com" autocomplete="email" required />
          <span class="field-error" id="topic-email-error"></span>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn-primary">
            <span class="btn-icon">&#127775;</span> Submit &amp; Vote
          </button>
          <button type="button" class="btn-secondary" id="add-topic-cancel-btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- TOAST -->
  <div id="toast" class="toast hidden" role="alert" aria-live="polite"></div>

  <!-- MAIN ───────────────────────────────────────────── -->
  <main class="main-content">

    <!-- EXPLAINER -->
    <section class="explainer-block">
      <div class="explainer-heading">
        <span class="explainer-tag">&#127908; Unconference Sessions</span>
        <p class="explainer-lead">Participant-led discussions on topics that matter. Add a topic, vote for what interests you, and shape the agenda.</p>
      </div>
      <div class="explainer-divider"></div>
      <div class="explainer-how">
        <h3 class="explainer-how-title">How does Unconference work?</h3>
        <ul class="explainer-list">
          <li>Participants can suggest&nbsp;/&nbsp;add their topics here, which will then be upvoted by everyone. Most upvoted topics will be selected and assigned spaces&nbsp;/&nbsp;tables.</li>
          <li>You're free to join any discussion that interests you. Conversations are informal and participant-led — no presentations required.</li>
          <li>Follow the <strong>"Law of Two Feet"</strong>: if a discussion isn't working for you, feel free to move. The goal is open exchange, collaboration, and idea generation. Key insights may be captured and shared after the session.</li>
        </ul>
      </div>
    </section>

    <!-- PROPOSE TOPIC BANNER -->
    <div class="propose-banner">
      <div class="propose-banner-text">
        <span class="propose-banner-icon">&#128161;</span>
        <div>
          <p class="propose-banner-headline">Tell us your own topic of interest!</p>
          <p class="propose-banner-sub">People can see it and upvote it. For reference, do check the topics we have provided below.</p>
        </div>
      </div>
      <button class="btn-add-topic" id="add-topic-btn">&#10010; Add Your Topic</button>
    </div>

    <!-- UNIFIED TOPICS GRID -->
    <section class="topics-section">
      <div class="topics-header">
        <div class="topics-header-left">
          <h2 class="topics-title">Topics</h2>
          <p class="topics-desc">Upvote as many topics as you like — one upvote per topic. You can also add your own!</p>
        </div>
        <div class="upvote-quota" id="upvote-quota-badge">
          <span>&#9650;</span>
          <span id="upvote-quota-text">0 upvotes cast</span>
        </div>
      </div>
      <div class="topics-grid" id="topics-grid">
        <!-- Cards injected by JS -->
      </div>
    </section>

  </main>

  <!-- ADMIN PANEL -->
  <div id="admin-panel" class="admin-panel hidden">
    <div class="admin-inner">
      <h2>&#128202; Admin: Upvote Data</h2>
      <p class="admin-hint">Visible only at <code>?admin=1</code>. Data stored in JSONBin (shared across all users).</p>
      <button class="btn-export" id="export-csv-btn">&#128190; Export CSV</button>
      <button class="btn-danger"  id="clear-data-btn">&#128465; Clear All Data</button>
      <div id="admin-table-wrap"></div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <p>&#169; <span id="year"></span> The Takshashila Institution &mdash; All rights reserved.</p>
      <p class="footer-sub">2nd Floor, 46/1, Cobalt Building, Church St, Bengaluru – 560001</p>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
