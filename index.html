<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Takshashila Network for Advanced Studies Conference 2026 – Vote for Sessions</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="header-inner">
      <div class="logo-area">
        <img src="https://images.squarespace-cdn.com/content/v1/609cad5f2b20cf45454e749c/3b77a58a-e34f-4a42-853a-623fb58424c4/%5BLOGO%5D%2BTakshashila%2BLogo%2BColour%2BHorizontal.png"
             alt="Takshashila Institution" class="logo" onerror="this.style.display='none'; document.getElementById('logo-text').style.display='block'" />
        <span id="logo-text" class="logo-text-fallback" style="display:none">The Takshashila Institution</span>
      </div>
      <div class="header-title">
        <h1 class="event-title">Unconference Sessions</h1>
        <p class="event-subtitle">Vote for sessions you're interested in</p>
      </div>
      <div class="header-conference-name">
        Takshashila Network for Advanced Studies Conference 2026
      </div>
    </div>
  </header>

  <!-- HERO STRIP -->
  <div class="hero-strip">
    <span class="hero-tag">&#128101; Interactive Voting</span>
    <span class="hero-sep">·</span>
    <span>Pick <strong>1</strong> General Topic &amp; <strong>2</strong> AMAs you'd like to attend</span>
    <span class="hero-sep">·</span>
    <span>Enter your name &amp; email to vote</span>
  </div>

  <!-- MODAL: Name + Email -->
  <div id="modal-overlay" class="modal-overlay hidden">
    <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <button class="modal-close" id="modal-close-btn" aria-label="Close">&times;</button>
      <div class="modal-header">
        <span class="modal-icon">&#128079;</span>
        <h2 id="modal-title">I'm Interested!</h2>
        <p id="modal-session-name" class="modal-session-name"></p>
      </div>
      <form id="interest-form" novalidate>
        <div class="form-group">
          <label for="voter-name">Your Name <span class="required">*</span></label>
          <input type="text" id="voter-name" placeholder="e.g. Priya Sharma" autocomplete="name" required />
          <span class="field-error" id="name-error"></span>
        </div>
        <div class="form-group">
          <label for="voter-email">Your Email <span class="required">*</span></label>
          <input type="email" id="voter-email" placeholder="e.g. priya@example.com" autocomplete="email" required />
          <span class="field-error" id="email-error"></span>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn-primary" id="submit-vote-btn">
            <span class="btn-icon">&#128077;</span> Confirm Interest
          </button>
          <button type="button" class="btn-secondary" id="modal-cancel-btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- ADD TOPIC MODAL -->
  <div id="add-topic-overlay" class="modal-overlay hidden">
    <div class="modal-box" role="dialog" aria-modal="true" aria-labelledby="add-topic-title">
      <button class="modal-close" id="add-topic-close-btn" aria-label="Close">&times;</button>
      <div class="modal-header">
        <span class="modal-icon">&#128161;</span>
        <h2 id="add-topic-title">Propose a Topic</h2>
        <p class="modal-session-name">Your topic will appear under General Topics for others to vote on too. Submitting counts as your one General Topics vote.</p>
      </div>
      <form id="add-topic-form" novalidate>
        <div class="form-group">
          <label for="new-topic-title">Your Topic <span class="required">*</span></label>
          <input type="text" id="new-topic-title" placeholder="e.g. Should India join the Arctic Council?" maxlength="160" required />
          <span class="field-error" id="topic-title-error"></span>
        </div>
        <div class="form-group">
          <label for="new-topic-name">Your Name <span class="required">*</span></label>
          <input type="text" id="new-topic-name" placeholder="e.g. Priya Sharma" autocomplete="name" required />
          <span class="field-error" id="topic-name-error"></span>
        </div>
        <div class="form-group">
          <label for="new-topic-email">Your Email <span class="required">*</span></label>
          <input type="email" id="new-topic-email" placeholder="e.g. priya@example.com" autocomplete="email" required />
          <span class="field-error" id="topic-email-error"></span>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn-primary">
            <span class="btn-icon">&#127775;</span> Submit &amp; Vote
          </button>
          <button type="button" class="btn-secondary" id="add-topic-cancel-btn">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- SUCCESS TOAST -->
  <div id="toast" class="toast hidden" role="alert" aria-live="polite"></div>

  <!-- SESSIONS GRID -->
  <main class="main-content">

    <!-- SECTION 1: General Topics -->
    <section class="section-block" id="section-general">
      <div class="section-header">
        <div class="section-header-left">
          <span class="section-badge general">Section 1</span>
          <h2 class="section-title">General Topics</h2>
          <p class="section-desc">Choose <strong>exactly 1</strong> session from this section</p>
        </div>
        <div class="section-quota" id="quota-general">
          <span class="quota-icon">&#127919;</span>
          <span id="quota-general-text">0 / 1 selected</span>
        </div>
      </div>
      <div class="sessions-grid" id="sessions-grid-general">
        <!-- Cards injected by JS -->
      </div>
      <div class="add-topic-row">
        <button class="btn-add-topic" id="add-topic-btn">
          &#10010; Propose Your Own Topic
        </button>
        <p class="add-topic-hint">Have an idea not listed above? Add it — and your submission counts as your General Topics vote.</p>
      </div>
    </section>

    <!-- SECTION 2: AMAs -->
    <section class="section-block" id="section-ama">
      <div class="section-header">
        <div class="section-header-left">
          <span class="section-badge ama">Section 2</span>
          <h2 class="section-title">AMAs with Mentors &amp; Invitees</h2>
          <p class="section-desc">Choose <strong>exactly 2</strong> sessions from this section</p>
        </div>
        <div class="section-quota" id="quota-ama">
          <span class="quota-icon">&#127919;</span>
          <span id="quota-ama-text">0 / 2 selected</span>
        </div>
      </div>
      <div class="sessions-grid" id="sessions-grid-ama">
        <!-- Cards 5–22 injected by JS -->
      </div>
    </section>

  </main>

  <!-- ADMIN PANEL (hidden by default, toggle via ?admin=1 in URL) -->
  <div id="admin-panel" class="admin-panel hidden">
    <div class="admin-inner">
      <h2>&#128202; Admin: Interest Data</h2>
      <p class="admin-hint">This panel is visible only in admin mode (<code>?admin=1</code>). Data is stored in localStorage for demo purposes.</p>
      <button class="btn-export" id="export-csv-btn">&#128190; Export as CSV</button>
      <button class="btn-danger" id="clear-data-btn">&#128465; Clear All Data</button>
      <div id="admin-table-wrap"></div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-inner">
      <p>&#169; <span id="year"></span> The Takshashila Institution &mdash; All rights reserved.</p>
      <p class="footer-sub">2nd Floor, 46/1, Cobalt Building, Church St, Bengaluru – 560001</p>
    </div>
  </footer>

  <script src="app.js"></script>
</body>
</html>
